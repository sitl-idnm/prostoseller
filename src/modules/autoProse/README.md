# AutoProse

Небольшой компонент для «быстрой вёрстки» текстов по правилам, близким к Markdown. Принимает строку и сам превращает её в заголовки, абзацы, ссылки и таблицы.

## Импорт

```tsx
import { AutoProse } from '@/modules/autoProse'
```

## Пропсы

- `className?: string` — дополнительный класс корня
- `text?: string` — исходный текст (если передано, имеет приоритет над `children`)
- `children?: ReactNode` — можно пробросить строку как дочерний узел

Примечание: компонент предназначен именно для строк. JSX‑узлы внутри `children` не обрабатываются.

## Поддерживаемый синтаксис

1) Заголовки
- Нумерованные разделы → `h2`:
  - `1. Раздел` (начинается с числа и точки)
- Нумерованные подразделы → `h3`:
  - `1.1 Подраздел` или `1.1. Подраздел`
- Явные префиксы (обёртка):
  - `[[h2]] Заголовок` → `h2`
  - `[[h3]] Подзаголовок` → `h3`
- «Markdown‑лайт»:
  - `## Заголовок` → `h2`
  - `### Подзаголовок` → `h3`

2) Абзацы
- Любая непустая строка, которая не распознана как заголовок/таблица, рендерится как `<p>`.

3) Автоссылки
- Любые URL в тексте превращаются в `<Link>`:
  - Поддерживаются абсолютные (`https://…`) и относительные пути (`/path`)
  - Окончательная пунктуация (`,.;:!?)]`) не входит в ссылку и остаётся в тексте

4) Таблицы
- Блок из строк с `|` превращается в `<table>`
- Поддерживается markdown‑разделитель заголовков:
  ```
  | Колонка A | Колонка B |
  | --- | --- |
  | 1 | 2 |
  | 3 | 4 |
  ```
  В этом случае первая строка — `<thead>`, остальные — `<tbody>`
- Если разделителя нет, все строки считаются обычными данными (`<tbody>`)

## Нормализация текста
- Перевод строк `\r\n` → `\n`
- Каждая строка `trim()` перед разбором

## Пример использования

```tsx
<AutoProse>
{`Политика конфиденциальности\n\n1. Общие положения\n\n[[h3]] Область действия\nТекст раздела, ссылка https://prostoseller.com и /contacts\n\n## Таблица тарифов\n| План | Цена |\n| --- | --- |\n| Старт | 0 руб |\n| Базовый | 1990 руб |`}
</AutoProse>
```

## Ограничения и заметки
- Компонент работает построчно: внутри одной строки не формируются списки и сложная разметка
- Таблицы ожидают корректное количество разделителей `|`; вложенные таблицы/многострочные ячейки не поддерживаются
- Текстовые дети, отличные от строки, игнорируются (используйте проп `text` или строку в `children`)

## Стили
- Классы: `root`, `h2`, `h3`, `p`, `tableWrap`, `table` (см. `autoProse.module.scss`)
- Можно переопределять стили через внешний `className` или модульные классы

