# Реализация Install Prompt

## Обзор

Реализован компонент для предложения установки PWA на рабочий стол в соответствии с референсом:

- ✅ Показывается только на мобильных устройствах и планшетах
- ✅ Зеленая сова-иконка
- ✅ Текст "Добавьте Otiwa на экран мобильного телефона"
- ✅ Зеленая кнопка "Добавить" (использует компонент Button)
- ✅ Кнопка закрытия "X"
- ✅ Позиционирование сверху экрана

## Структура файлов

```
src/modules/installPrompt/
├── installPrompt.tsx          # Основной компонент
├── installPrompt.module.scss  # Стили
├── installPrompt.types.ts     # TypeScript типы
├── index.ts                   # Экспорт модуля
└── README.md                  # Документация
```

## Основные особенности

### 1. Условия показа
- Только на экранах ≤1024px
- Только в мобильных браузерах
- При наличии события `beforeinstallprompt`
- Если пользователь еще не закрывал промпт

### 2. Дизайн
- Белая плашка с закругленными углами
- Позиционирование сверху экрана по центру
- Зеленая сова-иконка (SVG)
- Адаптивная верстка для разных размеров экрана

### 3. Функциональность
- Использует браузерный API для установки PWA
- Сохраняет состояние в localStorage
- Одноразовый показ (после закрытия больше не появляется)
- Корректная работа с SSR

## Интеграция

Компонент интегрирован в `src/app/layout.tsx` и автоматически появляется на всех страницах сайта при соответствующих условиях.

## Логика работы

1. **Определение устройства**: Проверка ширины экрана и User Agent
2. **Слушание событий**: Ожидание `beforeinstallprompt` и `appinstalled`
3. **Показ промпта**: Отображение кастомного интерфейса
4. **Установка**: Запуск нативного промпта браузера при нажатии "Добавить"
5. **Сохранение состояния**: Запись в localStorage после закрытия

## Хранение данных

- **Ключ**: `installPromptShown`
- **Значение**: `'true'` (после закрытия промпта)
- **Цель**: Предотвращение повторного показа

## Соответствие требованиям

- ✅ **Устройства**: только мобильные и планшеты
- ✅ **Позиция**: сверху экрана
- ✅ **Дизайн**: соответствует референсу
- ✅ **Иконка**: зеленая сова
- ✅ **Кнопка**: использует компонент Button
- ✅ **Функциональность**: PWA установка

## Требования для работы

Для корректной работы компонента сайт должен соответствовать требованиям PWA:
- Наличие `manifest.json`
- HTTPS соединение
- Service Worker
- Соответствующие мета-теги

## Готово к использованию

Компонент полностью готов к использованию. Автоматически появляется на мобильных устройствах при соответствующих условиях и использует нативные возможности браузера для установки PWA.
